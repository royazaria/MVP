<!-- Optimized Signup Form -->
<form
  action="https://formspree.io/f/xqapjgka"
  method="POST"
  id="lead-signup-form"
  class="max-w-md mx-auto p-8 bg-white rounded-xl shadow-lg border border-gray-100"
  onsubmit="handleSignup(event)"
>
  <div class="text-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">Join ePro AI</h2>
    <p class="text-gray-600 mt-2">Create perfect Etsy listings in minutes</p>
  </div>
  
  <div class="space-y-5">
    <label class="block">
      <span class="block text-sm font-medium text-gray-700 mb-1">Full Name</span>
      <input 
        type="text" 
        name="full_name" 
        required 
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F56400] focus:border-transparent transition-colors" 
        placeholder="Your name"
      />
    </label>
    
    <label class="block">
      <span class="block text-sm font-medium text-gray-700 mb-1">Email Address</span>
      <input 
        type="email" 
        name="email" 
        required 
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F56400] focus:border-transparent transition-colors" 
        placeholder="you@example.com"
      />
    </label>
    
    <label class="block">
      <span class="block text-sm font-medium text-gray-700 mb-1">Business Type</span>
      <select 
        name="business_type" 
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F56400] focus:border-transparent transition-colors appearance-none bg-white"
      >
        <option value="">Select your business type...</option>
        <option value="Etsy Seller">Etsy Seller</option>
        <option value="Dropshipper">Dropshipper</option>
        <option value="Print on Demand">Print on Demand</option>
        <option value="Handmade Products">Handmade Products</option>
        <option value="Other">Other</option>
      </select>
    </label>
    
    <div class="pt-2">
      <button
        type="submit"
        class="w-full bg-gradient-to-r from-[#F56400] to-[#F2994A] text-white py-3 px-4 rounded-lg font-semibold hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200"
        id="submit-button"
      >
        Get Started
      </button>
      <p class="text-xs text-center text-gray-500 mt-3">
        By signing up, you agree to our <a href="#" class="underline hover:text-[#F56400]">Terms of Service</a> and <a href="#" class="underline hover:text-[#F56400]">Privacy Policy</a>
      </p>
    </div>
  </div>
  
  <!-- Form Status Messages -->
  <div id="form-success" class="hidden mt-4 p-3 bg-green-50 border border-green-100 text-green-700 rounded-lg text-center">
    Thank you for signing up! You'll be redirected shortly.
  </div>
  <div id="form-error" class="hidden mt-4 p-3 bg-red-50 border border-red-100 text-red-700 rounded-lg text-center">
    Something went wrong. Please try again.
  </div>
</form>

<script>
  function handleSignup(event) {
    event.preventDefault();
    
    // Show loading state
    const submitButton = document.getElementById('submit-button');
    const originalText = submitButton.innerHTML;
    submitButton.innerHTML = '<span class="inline-block animate-spin mr-2">‚ü≥</span> Signing up...';
    submitButton.disabled = true;
    
    // Hide any existing messages
    document.getElementById('form-success').classList.add('hidden');
    document.getElementById('form-error').classList.add('hidden');
    
    // Let Formspree handle the form
    const form = event.target;
    fetch(form.action, {
      method: "POST",
      body: new FormData(form),
      headers: { 'Accept': 'application/json' }
    })
    .then(response => {
      if (response.ok) {
        // Show success message
        document.getElementById('form-success').classList.remove('hidden');
        
        // Store signup in localStorage
        localStorage.setItem('epro_signed_up', 'true');
        
        // Redirect after a short delay
        setTimeout(() => {
          window.location.href = "index.html";
        }, 1500);
      } else {
        // Show error message
        document.getElementById('form-error').classList.remove('hidden');
        submitButton.innerHTML = originalText;
        submitButton.disabled = false;
      }
    })
    .catch(() => {
      // Show error message
      document.getElementById('form-error').classList.remove('hidden');
      submitButton.innerHTML = originalText;
      submitButton.disabled = false;
    });
  }
</script>
